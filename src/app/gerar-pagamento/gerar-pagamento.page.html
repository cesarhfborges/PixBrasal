<ion-header>
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-button (click)="close()">
        <ion-icon name="arrow-back-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title>Valor do abastecimento</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding-horizontal">

  <form class="frm-options" [formGroup]="form">

    <app-stepper [steps]="steps" [atual]="atualStep"></app-stepper>

    <div class="options" [ngSwitch]="atualStep">

      <div class="option-items" *ngSwitchCase="1">

        <p class="ion-no-margin ion-margin-bottom" style="margin-top: 12px;">
          Para Iniciar o pagamento Pix preencha o valor do abastecimento abaixo:
        </p>

        <input
                currencyMask
                type="tel"
                class="input-money"
                formControlName="valor"
                [options]="inputValorOptions"
                (keyup.enter)="atualStepAdd()"
                (click)="focus()"
        />

<!--        <ion-input-->
<!--                type="tel"-->
<!--                inputmode="decimal"-->
<!--                enterkeyhint="go"-->
<!--                class="ion-text-center input-money"-->
<!--                name="valor"-->
<!--                formControlName="valor"-->
<!--                placeholder="0,00"-->
<!--                [brmasker]="{money: true}"-->
<!--                (ionInput)="changes($event)"-->
<!--                (keyup.enter)="atualStepAdd()"-->
<!--        ></ion-input>-->

        <div style="margin-top: 80px;">
          <p class="ion-no-margin ion-no-padding">
            <ion-text color="primary">Brasal Combustiveis - Sede Sia - Shell</ion-text>
          </p>
          <p class="ion-no-margin ion-no-padding">
            <ion-text color="medium">{{dateNow | date : 'EEEE'}}</ion-text>
          </p>
          <p class="ion-no-margin ion-no-padding">
            <ion-text color="primary">{{dateNow | date : 'd/M/y  H:mm:ss'}}</ion-text>
          </p>
        </div>

      </div>

      <div class="option-items" *ngSwitchCase="2">

        <div class="valor">
          <ion-text color="light">{{form.get('valor').value | currency : 'R$'}}</ion-text>
        </div>

        <ion-img style="width: 46%; margin: 0 auto; padding-top: 4px;" src="https://sites.usp.br/comcirp/wp-content/uploads/sites/385/2018/05/qrcode.lmim_.png"></ion-img>

        <div style="text-align: center;">
          <ion-button class="btn-qrPrint" size="large" color="primary">
            <ion-icon name="print-outline" slot="icon-only" color="light"></ion-icon>
          </ion-button>
        </div>

        <div style="margin-top: 16px;">
          <p class="ion-no-margin ion-no-padding">
            <ion-text color="primary">Verifique a geração do QR Code abaixo.</ion-text>
          </p>
          <p class="ion-no-margin ion-no-padding">
            <ion-text color="primary">O Cliente realizará o pagamento apontando o celular para esse QR Code.</ion-text>
          </p>
        </div>

      </div>

      <div class="option-items" *ngSwitchCase="3">

        <div class="ion-no-margin ion-no-padding ion-text-center messageSTatus" style="margin-top: 16px;">
          <ion-item lines="none">
            <ion-icon name="checkmark-done-circle-outline" slot="start"></ion-icon>
            <ion-text>Pagamento Realizado com sucesso.</ion-text>
          </ion-item>
<!--          <p class="ion-no-margin ion-no-padding ion-text-center messageSTatus">-->
<!--            <ion-icon name="checkmark-done-circle-outline"></ion-icon>-->
<!--            <ion-text>Pagamento Realizado com sucesso.</ion-text>-->
<!--          </p>-->
        </div>

        <div style="margin-top: 50px;">
          <p class="ion-no-margin ion-no-padding">
            <ion-text color="medium">Deseja receber o comprovante do Pagamento Pix Brasal combustiveis ?</ion-text>
          </p>
        </div>

        <div style="margin-top: 16px;">
          <ion-button class="no-shadow" size="large" expand="block" color="tertiary">
            <ion-icon name="print-outline" slot="icon-only" color="light"></ion-icon>&nbsp;<ion-text color="light">Comprovante</ion-text>
          </ion-button>
        </div>

        <div style="margin-top: 16px;" *ngIf="false">
          <ion-input type="tel" style="border: 1px solid black; border-radius: 8px; text-align: center" placeholder="(xx) xxxxx-xxxx"></ion-input>
        </div>

      </div>

    </div>

  </form>
</ion-content>

<ion-footer class="ion-no-border">
  <ion-toolbar color="light">
    <ion-row style="height: 30%">
      <ion-col size="6">
        <ion-button (click)="atualStepSub()" class="no-shadow" size="large" expand="block" *ngIf="atualStep > 1 && atualStep < 3" color="tertiary">
          <ion-text color="light">Voltar</ion-text>
        </ion-button>
      </ion-col>
      <ion-col size="6">
        <ion-button (click)="atualStepAdd()" class="no-shadow" size="large" expand="block" color="secondary">
          <ion-text color="light">{{atualStep < this.steps.length ? 'Próximo' : 'Concluir'}}</ion-text>
        </ion-button>
      </ion-col>
    </ion-row>
  </ion-toolbar>
</ion-footer>
